(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,n){},27:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),r=n(20),o=n.n(r),i=(n(27),n(4)),j=(n(10),n(3)),l=n(5),h=n.n(l),b=function(e){console.log(e);return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{class:"container blockquote text-center",children:Object(c.jsxs)("div",{className:"divsingle",children:[Object(c.jsx)("div",{className:"left",children:Object(c.jsx)("img",{src:e.pirate.imgUrl,alt:e.pirate.name,style:{width:"150px",height:"100px"}})}),Object(c.jsx)("p",{class:"p1",children:e.pirate.name}),Object(c.jsxs)("p",{class:"p1",children:[Object(c.jsx)(j.a,{to:"/about/".concat(e.pirate._id),children:Object(c.jsx)("button",{class:"b2",children:"view pirate"})}),Object(c.jsx)("button",{class:"b1",onClick:function(t){!0===window.confirm("Are you sure you want to delete it!")?h.a.delete("http://localhost:8000/api/pirate/"+e.pirate._id).then((function(t){e.setisupdate(!0),Object(j.c)("/dashboard")})).catch((function(e){return console.log(e)})):alert("ok")},children:"walk the blank"})]})]})})})},d=function(e){return Object(c.jsx)("div",{class:"blockquote text-center",children:e.data.length>0&&e.data.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(t){return Object(c.jsx)(b,{pirate:t,isupdate:e.isupdate,setisupdate:e.setisupdate},t._id)}))})},u=function(e){var t=e.user,n=Object(a.useState)([]),s=Object(i.a)(n,2),r=(s[0],s[1]),o=Object(a.useState)([]),l=Object(i.a)(o,2),b=l[0],u=l[1],p=Object(a.useState)(!1),O=Object(i.a)(p,2),g=O[0],x=O[1];Object(a.useEffect)((function(){t||Object(j.c)("/login"),console.log(t),h.a.get("http://localhost:8000/api/users",{withCredentials:!0}).then((function(e){console.log(e.data.users),r(e.data.users)})).catch((function(e){return console.log(e)}))}),[t]),Object(a.useEffect)((function(){h.a.get("http://localhost:8000/api/pirate").then((function(e){u(e.data)})).catch((function(e){return console.log(e)}))}),[g]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:function(e){h.a.get("http://localhost:8000/api/logout").then((function(e){console.log(e),Object(j.c)("/login")})).catch((function(e){return console.log(e)}))},children:"Logout"}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("h1",{children:["Welcome ",t&&t.firstName," to the Pirates App "]}),Object(c.jsxs)("div",{class:"dname",children:[Object(c.jsx)("h3",{class:"pc",children:" Pirates Crew"}),Object(c.jsx)(j.a,{class:"pc",to:"/new",children:Object(c.jsx)("button",{children:"Add an Pirate"})})]}),Object(c.jsx)(d,{data:b,isupdate:g,setisupdate:x})]})]})},p=n(7),O=n(2),g=function(e){var t=e.setUser,n=Object(a.useState)({email:"",password:""}),s=Object(i.a)(n,2),r=s[0],o=s[1],l=function(e){console.log("changing state"),o(Object(O.a)(Object(O.a)({},r),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h.a.post("http://localhost:8000/api/login",r).then((function(e){console.log(e.data.user),t(e.data.user),Object(j.c)("/dashboard")})).catch((function(e){return console.log(e)}))},children:[Object(c.jsxs)("p",{children:["email",Object(c.jsx)("input",{type:"text",name:"email",onChange:l})]}),Object(c.jsxs)("p",{children:["password",Object(c.jsx)("input",{type:"text",name:"password",onChange:l})]}),Object(c.jsx)("button",{type:"submit",children:"Login"})]})},x=function(e){var t=e.setUser,n=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),s=Object(i.a)(n,2),r=s[0],o=s[1],l=Object(a.useState)(),b=Object(i.a)(l,2),d=(b[0],b[1]),u=function(e){console.log("changing state"),o(Object(O.a)(Object(O.a)({},r),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(c.jsxs)("form",{onSubmit:function(e){console.log("submitting form"),e.preventDefault(),h.a.post("http://localhost:8000/api/register",r).then((function(e){console.log(e.data),t(e.data.user),Object(j.c)("/dashboard")})).catch((function(e){console.log(e),d(e)}))},children:[Object(c.jsxs)("p",{children:["firstName",Object(c.jsx)("input",{type:"text",name:"firstName",onChange:u})]}),Object(c.jsxs)("p",{children:["lastName",Object(c.jsx)("input",{type:"text",name:"lastName",onChange:u})]}),Object(c.jsxs)("p",{children:["email",Object(c.jsx)("input",{type:"text",name:"email",onChange:u})]}),Object(c.jsxs)("p",{children:["password",Object(c.jsx)("input",{type:"text",name:"password",onChange:u})]}),Object(c.jsxs)("p",{children:["confirmPassword",Object(c.jsx)("input",{type:"text",name:"confirmPassword",onChange:u})]}),Object(c.jsx)("button",{type:"submit",children:"Register"})]})},m=function(e){return Object(c.jsx)("form",{onSubmit:e.handleSubmit,children:Object(c.jsxs)("div",{class:"div0",children:[Object(c.jsxs)("p",{children:["name",Object(c.jsx)("input",{type:"text",name:"name",value:e.formInputs.name,onChange:e.handleChange})]}),e.formInputsError.title?Object(c.jsx)("p",{style:{color:"red"},children:e.formInputsError.title}):"",Object(c.jsxs)("p",{children:["imgUrl",Object(c.jsx)("input",{type:"text",name:"imgUrl",value:e.formInputs.imgUrl,onChange:e.handleChange})]}),Object(c.jsxs)("p",{children:["# of Treasure Chests",Object(c.jsx)("input",{type:"number",name:"treasure",value:e.formInputs.treasure,onChange:e.handleChange})]}),Object(c.jsxs)("p",{children:["# Pirate catch phreas",Object(c.jsx)("input",{type:"text",name:"phreas",value:e.formInputs.phreas,onChange:e.handleChange})]}),Object(c.jsxs)("p",{children:["# Crew Position",Object(c.jsxs)("select",{name:"position",onChange:e.handleChange,children:[Object(c.jsx)("option",{value:"Captain",children:"Captain"}),Object(c.jsx)("option",{value:"First Mate",children:"First Mate"}),Object(c.jsx)("option",{value:"Quater Master",children:"Quater Master"}),Object(c.jsx)("option",{value:"Boatswain",children:"Boatswain"}),Object(c.jsx)("option",{value:"Powder Monkey",children:"Powder Monkey"})]})]}),Object(c.jsxs)("p",{children:["Peg Leg",Object(c.jsx)("input",{type:"checkbox",onChange:e.handleChange,name:"pegLeg",value:e.formInputs.pegLeg})]}),Object(c.jsxs)("p",{children:["Eye Patch",Object(c.jsx)("input",{type:"checkbox",onChange:e.handleChange,name:"eyePatch",value:e.formInputs.eyePatch})]}),Object(c.jsxs)("p",{children:["Hook Hand",Object(c.jsx)("input",{type:"checkbox",onChange:e.handleChange,name:"hookHand",value:e.formInputs.hookHand})]}),Object(c.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Add pirate"}),Object(c.jsx)(j.a,{to:"/dashboard",children:Object(c.jsx)("button",{children:"cancel"})})]})})},f=function(e){var t=e.id,n=Object(a.useState)([]),s=Object(i.a)(n,2),r=(s[0],s[1],Object(a.useState)({name:"",imgUrl:"",treasure:"",position:"",phreas:"",pegLeg:"",eyePatch:"",hookHand:""})),o=Object(i.a)(r,2),l=o[0],b=o[1];return Object(a.useEffect)((function(){h.a.get("http://localhost:8000/api/pirate/"+t).then((function(e){b(e.data)})).catch((function(e){return console.log(e)}))}),[t]),Object(c.jsxs)("div",{className:"div0",children:[Object(c.jsxs)("div",{class:"dname",children:[Object(c.jsx)("p",{class:"p1",children:l.name}),Object(c.jsx)(j.a,{to:"/dashboard",children:Object(c.jsx)("button",{children:"Crew Board"})})]}),Object(c.jsxs)("div",{className:"all",children:[Object(c.jsxs)("div",{className:"left",children:[Object(c.jsx)("img",{src:l.imgUrl,alt:l.name,style:{width:"200px"}}),Object(c.jsx)("p",{children:l.phreas})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{class:"right",children:[Object(c.jsx)("h3",{children:"About"}),Object(c.jsxs)("p",{class:"p1",children:["Treasure: ",l.treasure]}),Object(c.jsxs)("p",{class:"p1",children:["Position: ",l.position]}),Object(c.jsxs)("p",{class:"p1",children:["pegLeg:",l.pegLeg.toString()]}),Object(c.jsxs)("p",{class:"p1",children:["eyePatch:",l.eyePatch.toString()]}),Object(c.jsxs)("p",{class:"p1",children:["hookHand:",l.hookHand.toString()]})]})]})]})},v=function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),s=n[0],r=n[1],o=Object(a.useState)({name:"",imgUrl:"",treasure:"",position:"",phreas:"",pegLeg:!0,eyePatch:"true",hookHand:"true"}),l=Object(i.a)(o,2),b=l[0],d=l[1],u=Object(a.useState)({title:""}),g=Object(i.a)(u,2),x=g[0],f=g[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)(j.a,{to:"/dashboard",children:"Crew Board"}),Object(c.jsx)("h3",{children:"Add Pirate"}),s.map((function(e,t){return Object(c.jsx)("p",{children:e},t)})),Object(c.jsx)(m,{formInputs:b,handleChange:function(e){"name"===e.target.name&&(e.target.value.length<1?f(Object(O.a)(Object(O.a)({},x),{},{title:" fornt end Title is required!"})):e.target.value.length<3?f(Object(O.a)(Object(O.a)({},x),{},{title:" fornt endTitle must be 3 characters or longer!"})):f(Object(O.a)(Object(O.a)({},x),{},{title:""}))),"pegLeg"===e.target.name||"eyePatch"===e.target.name||"hookHand"===e.target.name?(console.log("yes"+e.target.checked),d(Object(O.a)(Object(O.a)({},b),{},Object(p.a)({},e.target.name,e.target.checked)))):d(Object(O.a)(Object(O.a)({},b),{},Object(p.a)({},e.target.name,e.target.value)))},handleSubmit:function(e){e.preventDefault(),h.a.post("http://localhost:8000/api/pirate/",b).then((function(e){console.log(e.data),Object(j.c)("/dashboard")})).catch((function(e){for(var t=e.response.data.errors,n=[],c=0,a=Object.keys(t);c<a.length;c++){var s=a[c];n.push(t[s].message)}r(n)}))},formInputsError:x})]})},C=function(e){var t=e.setUser;return Object(c.jsxs)("div",{class:"blockquote text-center",children:[Object(c.jsx)("h1",{children:"Welcome to Pirates Crew"}),Object(c.jsx)(x,{setUser:t}),Object(c.jsx)(g,{setUser:t})]})};var y=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(j.b,{children:[Object(c.jsx)(C,{path:"/",setUser:s}),Object(c.jsx)(x,{path:"/register",setUser:s}),Object(c.jsx)(g,{path:"/login",setUser:s}),Object(c.jsx)(u,{path:"/dashboard",user:n}),Object(c.jsx)(v,{path:"/new"}),Object(c.jsx)(f,{path:"/about/:id"})]})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root")),w()}},[[52,1,2]]]);
//# sourceMappingURL=main.a3ce82c4.chunk.js.map